(()=>{"use strict";let e;document.addEventListener("DOMContentLoaded",(()=>{chrome.storage.sync.get(["username","password"],(n=>{n.username&&n.password?(e=n,r(".logged-in-form")):r(".login-form")}))}));const r=r=>{[document.querySelector("#instagramLink"),document.querySelector("#linkedInLink"),document.querySelector("#twitterLink")].forEach((e=>{let r=null==e?void 0:e.getAttribute("data-link");null==e||e.addEventListener("click",(()=>{(e=>{chrome.tabs.create({url:e})})(r)}))}));const t=document.querySelector(r),c=null==t?void 0:t.querySelector("template");if(t&&c){t.appendChild(c.content.cloneNode(!0));const l=t.querySelector("#log-in-btn");null==l||l.addEventListener("click",n),document.addEventListener("keypress",(e=>{var r;"Enter"===e.code&&"INPUT"===(null===(r=document.activeElement)||void 0===r?void 0:r.nodeName)&&n()}));const s=t.querySelector("#log-out-btn");null==s||s.addEventListener("click",o),".logged-in-form"===r&&(document.querySelector("#usernameHolder").innerText=e.username)}},n=()=>{const e=document.querySelector('input[name="username"]'),r=document.querySelector('input[name="password"]'),n=document.querySelector("#error-msg");let o=!0;""===e.value&&(n&&(n.innerHTML="Username is required<br>"),o=!1),"password"!==r.value&&!0===o&&(n&&(n.innerHTML="Password is incorrect<br>"),o=!1),o&&(chrome.storage.sync.set({username:e.value,password:r.value},(()=>{console.log("Settings saved")})),window.close())},o=()=>{chrome.storage.local.clear((()=>{var e=chrome.runtime.lastError;e&&console.error(e)})),chrome.storage.sync.clear(),window.close()}})();